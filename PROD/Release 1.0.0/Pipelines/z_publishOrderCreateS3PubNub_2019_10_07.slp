{"class_fqid":"com-snaplogic-pipeline_9","snode_id":"5b9a44b1a9206632592a260b","instance_id":"414be86a-44b0-4861-b858-4a49901cfc74","instance_version":5,"link_map":{"link241":{"src_view_id":"output0","dst_view_id":"input0","src_id":"b92ac5aa-54d1-4d4b-8140-777a26fea356","dst_id":"4e12c5f4-2d5c-4de9-ab73-5c573cbdda54","isGoto":false},"link243":{"src_view_id":"output0","dst_view_id":"input0","src_id":"72d5afe7-506c-4f1e-8877-f3fe4a33b0a1","dst_id":"badbfb60-0cf5-430c-b81c-9638ef461b22","isGoto":false},"link242":{"src_view_id":"output0","dst_view_id":"input0","src_id":"dc8e1a1e-27da-4318-a74b-fa686d8a0862","dst_id":"b92ac5aa-54d1-4d4b-8140-777a26fea356","isGoto":false},"link244":{"src_view_id":"output0","dst_view_id":"input0","src_id":"4e12c5f4-2d5c-4de9-ab73-5c573cbdda54","dst_id":"72d5afe7-506c-4f1e-8877-f3fe4a33b0a1","isGoto":false},"link247":{"src_view_id":"output0","dst_view_id":"input0","src_id":"16b4a21e-0079-4374-b985-c66fac08b7f6","dst_id":"0b99d37f-15ff-4c9b-8150-99e5d9a92c5a","isGoto":false},"link246":{"src_view_id":"output0","dst_view_id":"input0","src_id":"5fc54361-4f9f-4876-97c2-2e2e38029d35","dst_id":"dbcaa122-4d54-41b5-8f0c-8b457d74a1a5","isGoto":false},"link223":{"src_view_id":"output0","dst_view_id":"input0","src_id":"43dab630-91ac-4b27-ba37-17e201fd04ba","dst_id":"69a66d77-b4a3-4b5c-8c35-781e1361e885","isGoto":false},"link248":{"src_view_id":"output0","dst_view_id":"input101","src_id":"dbcaa122-4d54-41b5-8f0c-8b457d74a1a5","dst_id":"16b4a21e-0079-4374-b985-c66fac08b7f6","isGoto":false},"link220":{"src_view_id":"output0","dst_view_id":"input0","src_id":"3188304d-1361-4488-a333-3c4579b72476","dst_id":"43dab630-91ac-4b27-ba37-17e201fd04ba","isGoto":false},"link227":{"src_view_id":"output0","dst_view_id":"input0","src_id":"cbd83fc9-92fa-4cbf-baba-945ba5687571","dst_id":"7d1d64ff-f80b-4f10-af91-0d10859fa981","isGoto":false},"link229":{"src_view_id":"output0","dst_view_id":"input0","src_id":"3f501da2-038d-4626-a9c5-65a584fc8ad0","dst_id":"b9dc858c-e018-4dc2-b96b-3ebb2b4100c1","isGoto":false},"link225":{"src_view_id":"output0","dst_view_id":"input0","src_id":"69a66d77-b4a3-4b5c-8c35-781e1361e885","dst_id":"cbd83fc9-92fa-4cbf-baba-945ba5687571","isGoto":false},"link226":{"src_view_id":"output0","dst_view_id":"input0","src_id":"7d1d64ff-f80b-4f10-af91-0d10859fa981","dst_id":"0dfd934a-6a6d-4f39-bc26-328353f2f91f","isGoto":false},"link219":{"src_view_id":"output1","dst_view_id":"input1","src_id":"4e12c5f4-2d5c-4de9-ab73-5c573cbdda54","dst_id":"5fc54361-4f9f-4876-97c2-2e2e38029d35","isGoto":true},"link228":{"src_view_id":"output0","dst_view_id":"input0","src_id":"0dfd934a-6a6d-4f39-bc26-328353f2f91f","dst_id":"3f501da2-038d-4626-a9c5-65a584fc8ad0","isGoto":false},"link203":{"src_view_id":"output0","dst_view_id":"input0","src_id":"8bdaeef4-fdb8-4568-ba2c-18965692e33c","dst_id":"3188304d-1361-4488-a333-3c4579b72476","isGoto":false},"link237":{"src_view_id":"output0","dst_view_id":"input0","src_id":"b9dc858c-e018-4dc2-b96b-3ebb2b4100c1","dst_id":"dc8e1a1e-27da-4318-a74b-fa686d8a0862","isGoto":false},"link192":{"src_view_id":"output101","dst_view_id":"input0","src_id":"badbfb60-0cf5-430c-b81c-9638ef461b22","dst_id":"5fc54361-4f9f-4876-97c2-2e2e38029d35","isGoto":false}},"link_serial":249,"property_map":{"info":{"notes":{"value":null},"author":{"value":"richardpelino@gamestop.com"},"purpose":{"value":null},"pipeline_doc_uri":{"value":null},"label":{"value":"z_publishOrderCreateS3PubNub"}},"output":{"0b99d37f-15ff-4c9b-8150-99e5d9a92c5a_output102":{"label":{"value":"Exec PubNub_publish - output0"},"view_type":{"value":"document"}}},"settings":{"imports":{"value":[{"path":{"expression":false,"value":"BOPS.expr"},"as":{"value":"bops"}}]},"error_param_table":{"value":[]},"error_pipeline":{"expression":false,"value":null},"param_table":{"value":[{"capture":{"value":true},"description":{"value":null},"data_type":{"value":"string"},"required":{"value":false},"value":{"value":"http://gamestop.com/oms/orders/ordercreate/v1"},"key":{"value":"ChannelName"}}]}},"error":{"error_behavior":{"value":"none"}},"input":{"8bdaeef4-fdb8-4568-ba2c-18965692e33c_input0":{"view_type":{"value":"document"},"label":{"value":"Ensure Array Level 1 - input0"}}}},"render_map":{"pan_x_num":0,"default_snaplex":"54079ef050a39d5ac2ac04f4","scale_ratio":1,"detail_map":{"3188304d-1361-4488-a333-3c4579b72476":{"grid_x_int":3,"index":null,"recommendation_id":null,"output":{},"source":"","grid_y_int":5,"rot_tail_int":0,"error":{},"input":{},"rot_int":0},"43dab630-91ac-4b27-ba37-17e201fd04ba":{"grid_x_int":4,"index":null,"recommendation_id":null,"output":{},"source":"","grid_y_int":5,"rot_tail_int":0,"error":{},"input":{},"rot_int":0},"dc8e1a1e-27da-4318-a74b-fa686d8a0862":{"grid_x_int":11,"index":null,"recommendation_id":null,"output":{},"source":"snap catagory","grid_y_int":5,"rot_tail_int":0,"error":{},"input":{},"rot_int":0},"5fc54361-4f9f-4876-97c2-2e2e38029d35":{"grid_x_int":16,"index":null,"recommendation_id":null,"output":{},"source":"","grid_y_int":5,"rot_tail_int":0,"error":{},"input":{"input1":{"dx_int":0,"rot_int":0,"dy_int":1}},"rot_int":0},"badbfb60-0cf5-430c-b81c-9638ef461b22":{"grid_x_int":15,"index":null,"recommendation_id":null,"source":"","grid_y_int":5,"rot_tail_int":0,"rot_int":0},"7d1d64ff-f80b-4f10-af91-0d10859fa981":{"grid_x_int":7,"index":null,"recommendation_id":null,"output":{},"source":"","grid_y_int":5,"rot_tail_int":0,"error":{},"input":{},"rot_int":0},"b92ac5aa-54d1-4d4b-8140-777a26fea356":{"grid_x_int":12,"input":{},"index":null,"recommendation_id":null,"source":"","grid_y_int":5,"rot_tail_int":0,"error":{},"output":{},"rot_int":0},"0dfd934a-6a6d-4f39-bc26-328353f2f91f":{"grid_x_int":8,"index":null,"recommendation_id":null,"output":{},"source":"","grid_y_int":5,"rot_tail_int":0,"error":{},"input":{},"rot_int":0},"8bdaeef4-fdb8-4568-ba2c-18965692e33c":{"grid_x_int":2,"index":null,"recommendation_id":null,"output":{},"source":"","grid_y_int":5,"rot_tail_int":0,"error":{},"input":{},"rot_int":0},"dbcaa122-4d54-41b5-8f0c-8b457d74a1a5":{"grid_x_int":17,"input":{},"index":null,"recommendation_id":null,"source":"","grid_y_int":5,"rot_tail_int":0,"error":{},"output":{},"rot_int":0},"0b99d37f-15ff-4c9b-8150-99e5d9a92c5a":{"grid_x_int":19,"index":null,"recommendation_id":null,"source":"","grid_y_int":5,"rot_tail_int":0,"rot_int":0},"16b4a21e-0079-4374-b985-c66fac08b7f6":{"grid_x_int":18,"input":{},"index":null,"recommendation_id":null,"source":"","grid_y_int":5,"rot_tail_int":0,"error":{},"output":{},"rot_int":0},"cbd83fc9-92fa-4cbf-baba-945ba5687571":{"grid_x_int":6,"index":null,"recommendation_id":null,"output":{},"source":"","grid_y_int":5,"rot_tail_int":0,"error":{},"input":{},"rot_int":0},"4e12c5f4-2d5c-4de9-ab73-5c573cbdda54":{"grid_x_int":13,"index":null,"recommendation_id":null,"output":{"output1":{"dx_int":0,"rot_int":0,"dy_int":1}},"source":"snap catagory","grid_y_int":5,"rot_tail_int":0,"error":{},"input":{},"rot_int":0},"72d5afe7-506c-4f1e-8877-f3fe4a33b0a1":{"grid_x_int":14,"index":null,"recommendation_id":null,"output":{},"source":"","grid_y_int":5,"rot_tail_int":0,"error":{},"input":{},"rot_int":0},"69a66d77-b4a3-4b5c-8c35-781e1361e885":{"grid_x_int":5,"index":null,"recommendation_id":null,"output":{},"source":"","grid_y_int":5,"rot_tail_int":0,"error":{},"input":{},"rot_int":0},"3f501da2-038d-4626-a9c5-65a584fc8ad0":{"grid_x_int":9,"index":null,"recommendation_id":null,"output":{},"source":"","grid_y_int":5,"rot_tail_int":0,"error":{},"input":{},"rot_int":0},"b9dc858c-e018-4dc2-b96b-3ebb2b4100c1":{"grid_x_int":10,"index":null,"recommendation_id":null,"output":{},"source":"","grid_y_int":5,"rot_tail_int":0,"error":{},"input":{},"rot_int":0}},"pan_y_num":0},"snap_map":{"43dab630-91ac-4b27-ba37-17e201fd04ba":{"class_fqid":"com-snaplogic-snaps-transform-datatransform_4-snapsmrc486","class_id":"com-snaplogic-snaps-transform-datatransform","class_version":4,"instance_fqid":"43dab630-91ac-4b27-ba37-17e201fd04ba_1","instance_id":"43dab630-91ac-4b27-ba37-17e201fd04ba","instance_version":1,"property_map":{"info":{"notes":{"value":null},"label":{"value":"Ensure Array Level 3"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"nullSafeAccess":{"value":true},"passThrough":{"value":true},"transformations":{"value":{"mappingTable":{"value":[{"targetPath":{"value":"$Order.HeaderTaxes.TaxSummary.TaxSummaryDetail"},"expression":{"expression":true,"value":"sl.ensureArray($Order.HeaderTaxes.TaxSummary.TaxSummaryDetail) || []"}}]},"mappingRoot":{"value":"$"}}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"unlinked_action":{"value":"ignore"},"label":{"value":"output0"}}}},"class_build_tag":"snapsmrc486"},"dc8e1a1e-27da-4318-a74b-fa686d8a0862":{"class_fqid":"com-snaplogic-snaps-transform-datatransform_4-snapsmrc486","class_id":"com-snaplogic-snaps-transform-datatransform","class_version":4,"instance_fqid":"dc8e1a1e-27da-4318-a74b-fa686d8a0862_1","instance_id":"dc8e1a1e-27da-4318-a74b-fa686d8a0862","instance_version":1,"property_map":{"info":{"notes":{"value":null},"label":{"value":"Remove null text in arrays"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"nullSafeAccess":{"value":false},"passThrough":{"value":false},"transformations":{"value":{"mappingTable":{"value":[{"targetPath":{"value":"$Order"},"expression":{"expression":true,"value":"JSON.parse(JSON.stringify($Order).replaceAll(\"[null]\",\"[]\"))"}}]},"mappingRoot":{"value":"$"}}}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_build_tag":"snapsmrc486"},"5fc54361-4f9f-4876-97c2-2e2e38029d35":{"class_fqid":"com-snaplogic-snaps-transform-multijoin_1-snapsmrc480","class_id":"com-snaplogic-snaps-transform-multijoin","class_version":1,"instance_fqid":"5fc54361-4f9f-4876-97c2-2e2e38029d35_1","instance_id":"5fc54361-4f9f-4876-97c2-2e2e38029d35","instance_version":1,"property_map":{"info":{"notes":{"value":null},"label":{"value":"Join"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}},"input1":{"label":{"value":"input1"},"view_type":{"value":"document"}}},"settings":{"nullGreater":{"value":false},"nullSafeAccess":{"value":false},"noMatchData":{"value":false},"joinPaths":{"value":[]},"joinType":{"value":"Merge"},"sortedStreams":{"value":"Ascending"}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"ignore"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_build_tag":"snapsmrc480"},"badbfb60-0cf5-430c-b81c-9638ef461b22":{"class_fqid":"com-snaplogic-snaps-binary-s3filewriter_1-snapsmrc480","class_id":"com-snaplogic-snaps-binary-s3filewriter","class_version":1,"instance_fqid":"badbfb60-0cf5-430c-b81c-9638ef461b22_3","instance_id":"badbfb60-0cf5-430c-b81c-9638ef461b22","instance_version":3,"property_map":{"info":{"notes":{"value":null},"label":{"value":"S3 File Writer"}},"view_serial":101,"account":{"account_ref":{"expression":false,"value":{"ref_id":{"expression":false,"value":"2c93fc26-9a0f-4b74-99bb-888c0c18957b"},"ref_class_id":{"value":"com-snaplogic-snaps-binary-binarys3account"},"label":{"expression":false,"value":"gs-aws-omsevents-us-east-1-prod"}}}},"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"binary"}}},"settings":{"retries":{"value":0},"execution_mode":{"value":"Validate & Execute"},"maxUploadThread":{"value":10},"writeHeader":{"value":false},"executable_during_suggest":{"value":true},"filename":{"expression":true,"value":"$TargetLocation"},"writeEmptyFile":{"value":false},"validate":{"value":false},"bufferSize":{"value":10},"fileAction":{"value":"OVERWRITE"},"acl":{"value":[]}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output101":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_build_tag":"snapsmrc480"},"7d1d64ff-f80b-4f10-af91-0d10859fa981":{"class_fqid":"com-snaplogic-snaps-transform-datatransform_4-snapsmrc486","class_id":"com-snaplogic-snaps-transform-datatransform","class_version":4,"instance_fqid":"7d1d64ff-f80b-4f10-af91-0d10859fa981_1","instance_id":"7d1d64ff-f80b-4f10-af91-0d10859fa981","instance_version":1,"property_map":{"info":{"notes":{"value":null},"label":{"value":"Ensure Array Level 6"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"nullSafeAccess":{"value":true},"passThrough":{"value":true},"transformations":{"value":{"mappingTable":{"value":[{"expression":{"expression":true,"value":"sl.ensureArray($CreditCardTransactions.CreditCardTransaction) || []"},"targetPath":{"value":"$CreditCardTransactions.CreditCardTransaction"}}]},"mappingRoot":{"value":"$Order.ChargeTransactionDetails.ChargeTransactionDetail[*]"}}}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"unlinked_action":{"value":"ignore"},"view_type":{"value":"document"}}}},"class_build_tag":"snapsmrc486"},"b92ac5aa-54d1-4d4b-8140-777a26fea356":{"class_fqid":"com-snaplogic-snaps-transform-datatransform_4-snapsmrc480","class_id":"com-snaplogic-snaps-transform-datatransform","class_version":4,"instance_fqid":"b92ac5aa-54d1-4d4b-8140-777a26fea356_1","instance_id":"b92ac5aa-54d1-4d4b-8140-777a26fea356","instance_version":1,"property_map":{"info":{"notes":{"value":null},"label":{"value":"Map Message"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"nullSafeAccess":{"value":true},"passThrough":{"value":false},"transformations":{"value":{"mappingTable":{"value":[{"expression":{"expression":true,"value":"$Order"},"targetPath":{"value":"$Order"}},{"expression":{"expression":true,"value":"$Order.OrderHeaderKey"},"targetPath":{"value":"$Order.messageid"}},{"expression":{"expression":true,"value":"Date.parse(Date.now()).toString()"},"targetPath":{"value":"$Order.messagetimestamp"}},{"expression":{"expression":true,"value":"lib.bops.gamestop.ordercreate.messagetype"},"targetPath":{"value":"$Order.messagetype"}}]},"mappingRoot":{"value":"$"}}}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_build_tag":"snapsmrc480"},"0dfd934a-6a6d-4f39-bc26-328353f2f91f":{"class_fqid":"com-snaplogic-snaps-transform-datatransform_4-snapsmrc486","class_id":"com-snaplogic-snaps-transform-datatransform","class_version":4,"instance_fqid":"0dfd934a-6a6d-4f39-bc26-328353f2f91f_1","instance_id":"0dfd934a-6a6d-4f39-bc26-328353f2f91f","instance_version":1,"property_map":{"info":{"notes":{"value":null},"label":{"value":"Ensure Array Level 7"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"nullSafeAccess":{"value":true},"passThrough":{"value":true},"transformations":{"value":{"mappingTable":{"value":[{"targetPath":{"value":"$Extn"},"expression":{"expression":true,"value":"$Extn || {}"}},{"targetPath":{"value":"$ItemDetails"},"expression":{"expression":true,"value":"$ItemDetails || {}"}},{"targetPath":{"value":"$Instructions"},"expression":{"expression":true,"value":"$Instructions || {}"}},{"targetPath":{"value":"$References"},"expression":{"expression":true,"value":"$References || {}"}},{"targetPath":{"value":"$KitLines"},"expression":{"expression":true,"value":"$KitLines || {}"}},{"targetPath":{"value":"$Schedules"},"expression":{"expression":true,"value":"$Schedules || {}"}},{"targetPath":{"value":"$AdditionalAddresses"},"expression":{"expression":true,"value":"$AdditionalAddresses || {}"}},{"targetPath":{"value":"$LineCharges"},"expression":{"expression":true,"value":"$LineCharges || {}"}},{"targetPath":{"value":"$LineTaxes"},"expression":{"expression":true,"value":"$LineTaxes || {}"}},{"targetPath":{"value":"$OrderStatuses"},"expression":{"expression":true,"value":"$OrderStatuses || {}"}}]},"mappingRoot":{"value":"$Order.OrderLines.OrderLine[*]"}}}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"unlinked_action":{"value":"ignore"},"view_type":{"value":"document"}}}},"class_build_tag":"snapsmrc486"},"8bdaeef4-fdb8-4568-ba2c-18965692e33c":{"class_fqid":"com-snaplogic-snaps-transform-datatransform_4-snapsmrc486","class_id":"com-snaplogic-snaps-transform-datatransform","class_version":4,"instance_fqid":"8bdaeef4-fdb8-4568-ba2c-18965692e33c_1","instance_id":"8bdaeef4-fdb8-4568-ba2c-18965692e33c","instance_version":1,"property_map":{"info":{"notes":{"value":null},"label":{"value":"Ensure Array Level 1"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"nullSafeAccess":{"value":true},"passThrough":{"value":true},"transformations":{"value":{"mappingTable":{"value":[{"targetPath":{"value":"$Order.OrderLines"},"expression":{"expression":true,"value":"$Order.OrderLines || {}"}},{"targetPath":{"value":"$Order.Instructions"},"expression":{"expression":true,"value":"$Order.Instructions || {}"}},{"targetPath":{"value":"$Order.AdditionalAddresses"},"expression":{"expression":true,"value":"$Order.AdditionalAddresses || {}"}},{"targetPath":{"value":"$Order.HeaderCharges"},"expression":{"expression":true,"value":"$Order.HeaderCharges || {}"}},{"targetPath":{"value":"$Order.HeaderTaxes"},"expression":{"expression":true,"value":"$Order.HeaderTaxes || {}"}},{"targetPath":{"value":"$Order.References"},"expression":{"expression":true,"value":"$Order.References || {}"}},{"targetPath":{"value":"$Order.PaymentMethods"},"expression":{"expression":true,"value":"$Order.PaymentMethods || {}"}},{"targetPath":{"value":"$Order.ChargeTransactionDetails"},"expression":{"expression":true,"value":"$Order.ChargeTransactionDetails || {}"}},{"targetPath":{"value":"$Order.OrderStatuses"},"expression":{"expression":true,"value":"$Order.OrderStatuses || {}"}}]},"mappingRoot":{"value":"$"}}}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_build_tag":"snapsmrc486"},"dbcaa122-4d54-41b5-8f0c-8b457d74a1a5":{"class_fqid":"com-snaplogic-snaps-transform-datatransform_4-snapsmrc486","class_id":"com-snaplogic-snaps-transform-datatransform","class_version":4,"instance_fqid":"dbcaa122-4d54-41b5-8f0c-8b457d74a1a5_1","instance_id":"dbcaa122-4d54-41b5-8f0c-8b457d74a1a5","instance_version":1,"property_map":{"info":{"notes":{"value":null},"label":{"value":"Map PubNub Message"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"nullSafeAccess":{"value":true},"passThrough":{"value":false},"transformations":{"value":{"mappingTable":{"value":[{"expression":{"expression":true,"value":"\"ordercreate\""},"targetPath":{"value":"$MessageNode"}},{"expression":{"expression":true,"value":"Date.parse(Date.now()).toString()"},"targetPath":{"value":"$MessageTimeStamp"}},{"expression":{"expression":true,"value":"lib.bops.gamestop.ordercreate.messagetype"},"targetPath":{"value":"$MessageType"}},{"expression":{"expression":true,"value":"$Order.OrderHeaderKey || ''"},"targetPath":{"value":"$MessageId"}},{"expression":{"expression":true,"value":"\"http://\"+$filename.substring(0,$filename.length - 5)"},"targetPath":{"value":"$MessagePath"}},{"expression":{"expression":true,"value":"$Order.EnterpriseCode || ''"},"targetPath":{"value":"$Brand"}},{"expression":{"expression":true,"value":"$Order.EntryType || ''"},"targetPath":{"value":"$OrderChannel"}}]},"mappingRoot":{"value":"$"}}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}}},"class_build_tag":"snapsmrc486"},"69a66d77-b4a3-4b5c-8c35-781e1361e885":{"class_fqid":"com-snaplogic-snaps-transform-datatransform_4-snapsmrc486","class_id":"com-snaplogic-snaps-transform-datatransform","class_version":4,"instance_fqid":"69a66d77-b4a3-4b5c-8c35-781e1361e885_1","instance_id":"69a66d77-b4a3-4b5c-8c35-781e1361e885","instance_version":1,"property_map":{"info":{"notes":{"value":null},"label":{"value":"Ensure Array Level 4"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"nullSafeAccess":{"value":true},"passThrough":{"value":true},"transformations":{"value":{"mappingTable":{"value":[{"targetPath":{"value":"$CreditCardTransactions"},"expression":{"expression":true,"value":"$CreditCardTransactions || {}"}}]},"mappingRoot":{"value":"$Order.ChargeTransactionDetails.ChargeTransactionDetail[*]"}}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"unlinked_action":{"value":"ignore"},"label":{"value":"output0"}}}},"class_build_tag":"snapsmrc486"},"0b99d37f-15ff-4c9b-8150-99e5d9a92c5a":{"class_fqid":"com-snaplogic-snaps-flow-pipeexec_1-snapsmrc480","class_id":"com-snaplogic-snaps-flow-pipeexec","class_version":1,"instance_fqid":"0b99d37f-15ff-4c9b-8150-99e5d9a92c5a_2","instance_id":"0b99d37f-15ff-4c9b-8150-99e5d9a92c5a","instance_version":2,"property_map":{"info":{"notes":{"value":null},"label":{"value":"Exec PubNub_publish"}},"view_serial":102,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"pipeline":{"expression":false,"value":"PubNub_publish"},"reuse":{"value":false},"poolSize":{"expression":false,"value":10},"executable_during_suggest":{"value":true},"loopDocument":{"expression":true},"execLabel":{"expression":true,"value":null},"params":{"value":[{"paramValue":{"expression":true,"value":"lib.bops.gamestop.publish.pubKeyName"},"paramName":{"value":"pubKeyName"}},{"paramValue":{"expression":true,"value":"lib.bops.gamestop.publish.subKeyName"},"paramName":{"value":"subKeyName"}},{"paramValue":{"expression":true,"value":"_ChannelName"},"paramName":{"value":"channel"}},{"paramValue":{"expression":true,"value":"lib.bops.gamestop.publish.meta"},"paramName":{"value":"meta"}}]},"snaplex":{"expression":false,"value":null},"execution_mode":{"value":"Validate & Execute"}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output102":{"view_type":{"value":"document"},"label":{"value":"output0"}}}},"class_build_tag":"snapsmrc480"},"16b4a21e-0079-4374-b985-c66fac08b7f6":{"class_fqid":"com-snaplogic-snaps-transform-jsongenerator_2-snapsmrc480","class_id":"com-snaplogic-snaps-transform-jsongenerator","class_version":2,"instance_fqid":"16b4a21e-0079-4374-b985-c66fac08b7f6_1","instance_id":"16b4a21e-0079-4374-b985-c66fac08b7f6","instance_version":1,"property_map":{"info":{"notes":{"value":null},"label":{"value":"PubNub JSON Generate"}},"view_serial":101,"input":{"input101":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"editable_content":{"value":"[\n   {\n      $MessageNode: \n\t  {\n\t\t\t \"messagetype\": $MessageType,\n\t\t\t \"messageid\": $MessageId,\n\t\t\t #if($Brand != '')\"brand\" : $Brand, #end\n\t\t\t #if($OrderChannel != '')\"orderchannel\" : $OrderChannel,#end\n\t\t\t #if($MessagePath != '')\"messagepath\" : $MessagePath,#end\n\t\t\t \"messagetimestamp\": $MessageTimeStamp\n\t  }\n   }\n]"},"arrayElementsAsDocuments":{"value":true}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}}}},"class_build_tag":"snapsmrc480"},"cbd83fc9-92fa-4cbf-baba-945ba5687571":{"class_fqid":"com-snaplogic-snaps-transform-datatransform_4-snapsmrc486","class_id":"com-snaplogic-snaps-transform-datatransform","class_version":4,"instance_fqid":"cbd83fc9-92fa-4cbf-baba-945ba5687571_1","instance_id":"cbd83fc9-92fa-4cbf-baba-945ba5687571","instance_version":1,"property_map":{"info":{"notes":{"value":null},"label":{"value":"Ensure Array Level 5"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"nullSafeAccess":{"value":true},"passThrough":{"value":true},"transformations":{"value":{"mappingTable":{"value":[{"expression":{"expression":true,"value":"$CreditCardTransactions || {}"},"targetPath":{"value":"$CreditCardTransactions"}}]},"mappingRoot":{"value":"$Order.ChargeTransactionDetails.ChargeTransactionDetail[*]"}}}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"unlinked_action":{"value":"ignore"},"view_type":{"value":"document"}}}},"class_build_tag":"snapsmrc486"},"4e12c5f4-2d5c-4de9-ab73-5c573cbdda54":{"class_fqid":"com-snaplogic-snaps-flow-copy_1-snapsmrc486","class_id":"com-snaplogic-snaps-flow-copy","class_version":1,"instance_fqid":"4e12c5f4-2d5c-4de9-ab73-5c573cbdda54_1","instance_id":"4e12c5f4-2d5c-4de9-ab73-5c573cbdda54","instance_version":1,"property_map":{"info":{"label":{"value":"Copy"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"label":{"value":"output0"}},"output1":{"view_type":{"value":"document"},"label":{"value":"output1"}}}},"class_build_tag":"snapsmrc486"},"3188304d-1361-4488-a333-3c4579b72476":{"class_fqid":"com-snaplogic-snaps-transform-datatransform_4-snapsmrc486","class_id":"com-snaplogic-snaps-transform-datatransform","class_version":4,"instance_fqid":"3188304d-1361-4488-a333-3c4579b72476_1","instance_id":"3188304d-1361-4488-a333-3c4579b72476","instance_version":1,"property_map":{"info":{"notes":{"value":null},"label":{"value":"Ensure Array Level 2"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"nullSafeAccess":{"value":true},"passThrough":{"value":true},"transformations":{"value":{"mappingTable":{"value":[{"expression":{"expression":true,"value":"sl.ensureArray($Order.OrderLines.OrderLine) || []"},"targetPath":{"value":"$Order.OrderLines.OrderLine"}},{"expression":{"expression":true,"value":"sl.ensureArray($Order.Instructions.Instruction) || []"},"targetPath":{"value":"$Order.Instructions.Instruction"}},{"expression":{"expression":true,"value":"sl.ensureArray($Order.AdditionalAddresses.AdditionalAddress) || []"},"targetPath":{"value":"$Order.AdditionalAddresses.AdditionalAddress"}},{"expression":{"expression":true,"value":"sl.ensureArray($Order.HeaderCharges.HeaderCharge) || []"},"targetPath":{"value":"$Order.HeaderCharges.HeaderCharge"}},{"expression":{"expression":true,"value":"sl.ensureArray($Order.HeaderTaxes.HeaderTax) || []"},"targetPath":{"value":"$Order.HeaderTaxes.HeaderTax"}},{"expression":{"expression":true,"value":"$Order.HeaderTaxes.TaxSummary || {}"},"targetPath":{"value":"$Order.HeaderTaxes.TaxSummary"}},{"expression":{"expression":true,"value":"sl.ensureArray($Order.References.Reference) || []"},"targetPath":{"value":"$Order.References.Reference"}},{"expression":{"expression":true,"value":"sl.ensureArray($Order.PaymentMethods.PaymentMethod)|| []"},"targetPath":{"value":"$Order.PaymentMethods.PaymentMethod"}},{"expression":{"expression":true,"value":"sl.ensureArray($Order.ChargeTransactionDetails.ChargeTransactionDetail)|| []"},"targetPath":{"value":"$Order.ChargeTransactionDetails.ChargeTransactionDetail"}},{"expression":{"expression":true,"value":"sl.ensureArray($Order.OrderStatuses.OrderStatus)|| []"},"targetPath":{"value":"$Order.OrderStatuses.OrderStatus"}}]},"mappingRoot":{"value":"$"}}}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_build_tag":"snapsmrc486"},"72d5afe7-506c-4f1e-8877-f3fe4a33b0a1":{"class_fqid":"com-snaplogic-snaps-transform-jsonformatter_2-snapsmrc480","class_id":"com-snaplogic-snaps-transform-jsonformatter","class_version":2,"instance_fqid":"72d5afe7-506c-4f1e-8877-f3fe4a33b0a1_1","instance_id":"72d5afe7-506c-4f1e-8877-f3fe4a33b0a1","instance_version":1,"property_map":{"info":{"notes":{"value":null},"label":{"value":"JSON Formatter"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"prettyPrint":{"value":false},"contentPath":{"value":"$"},"jsonLines":{"value":false},"ignoreEmptyStream":{"value":false},"header":{"value":[{"expression":{"expression":true,"value":"lib.bops.gamestop.ordercreate.s3.location + Date.now().toLocaleDateString({'format':'yyyy/MM/dd'}) + '/' + $Order.OrderHeaderKey +'.json'"},"targetPath":{"value":"$TargetLocation"}}]},"formatSingleDocument":{"value":true},"schema":{"expression":false,"value":null}},"error":{"error0":{"view_type":{"value":"binary"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"binary"},"label":{"value":"output0"}}}},"class_build_tag":"snapsmrc480"},"3f501da2-038d-4626-a9c5-65a584fc8ad0":{"class_fqid":"com-snaplogic-snaps-transform-datatransform_4-snapsmrc486","class_id":"com-snaplogic-snaps-transform-datatransform","class_version":4,"instance_fqid":"3f501da2-038d-4626-a9c5-65a584fc8ad0_1","instance_id":"3f501da2-038d-4626-a9c5-65a584fc8ad0","instance_version":1,"property_map":{"info":{"notes":{"value":null},"label":{"value":"Ensure Array Level 8"}},"view_serial":100,"input":{"input0":{"view_type":{"value":"document"},"label":{"value":"input0"}}},"settings":{"nullSafeAccess":{"value":true},"passThrough":{"value":true},"transformations":{"value":{"mappingTable":{"value":[{"targetPath":{"value":"$Extn.GiftCardFulfillmentList"},"expression":{"expression":true,"value":"$Extn.GiftCardFulfillmentList || {}"}},{"targetPath":{"value":"$ItemDetails.Components"},"expression":{"expression":true,"value":"$ItemDetails.Components || {}"}},{"targetPath":{"value":"$Instructions.Instruction"},"expression":{"expression":true,"value":"sl.ensureArray($Instructions.Instruction) || []"}},{"targetPath":{"value":"$References.Reference"},"expression":{"expression":true,"value":"sl.ensureArray($References.Reference) || []"}},{"targetPath":{"value":"$KitLines.KitLine"},"expression":{"expression":true,"value":"sl.ensureArray($KitLines.KitLine) || []"}},{"targetPath":{"value":"$Schedules.Schedule"},"expression":{"expression":true,"value":"sl.ensureArray($Schedules.Schedule) || []"}},{"targetPath":{"value":"$AdditionalAddresses.AdditionalAddress"},"expression":{"expression":true,"value":"sl.ensureArray($AdditionalAddresses.AdditionalAddress) || []"}},{"targetPath":{"value":"$LineCharges.LineCharge"},"expression":{"expression":true,"value":"sl.ensureArray($LineCharges.LineCharge) || []"}},{"targetPath":{"value":"$LineTaxes.LineTax"},"expression":{"expression":true,"value":"sl.ensureArray($LineTaxes.LineTax) || []"}},{"targetPath":{"value":"$LineTaxes.TaxSummary"},"expression":{"expression":true,"value":"$LineTaxes.TaxSummary || {}"}},{"targetPath":{"value":"$OrderStatuses.OrderStatus"},"expression":{"expression":true,"value":"sl.ensureArray($OrderStatuses.OrderStatus) || []"}}]},"mappingRoot":{"value":"$Order.OrderLines.OrderLine[*]"}}}},"error":{"error0":{"view_type":{"value":"document"},"label":{"value":"error0"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"view_type":{"value":"document"},"unlinked_action":{"value":"ignore"},"label":{"value":"output0"}}}},"class_build_tag":"snapsmrc486"},"b9dc858c-e018-4dc2-b96b-3ebb2b4100c1":{"class_fqid":"com-snaplogic-snaps-transform-datatransform_4-snapsmrc486","class_id":"com-snaplogic-snaps-transform-datatransform","class_version":4,"instance_fqid":"b9dc858c-e018-4dc2-b96b-3ebb2b4100c1_1","instance_id":"b9dc858c-e018-4dc2-b96b-3ebb2b4100c1","instance_version":1,"property_map":{"info":{"notes":{"value":null},"label":{"value":"Ensure Array Level 9"}},"view_serial":100,"input":{"input0":{"label":{"value":"input0"},"view_type":{"value":"document"}}},"settings":{"nullSafeAccess":{"value":true},"passThrough":{"value":true},"transformations":{"value":{"mappingTable":{"value":[{"targetPath":{"value":"$Extn.GiftCardFulfillmentList.GiftCardFulfillment"},"expression":{"expression":true,"value":"sl.ensureArray($Extn.GiftCardFulfillmentList.GiftCardFulfillment) || []"}},{"targetPath":{"value":"$ItemDetails.Components.Component"},"expression":{"expression":true,"value":"sl.ensureArray($ItemDetails.Components.Component) || []"}},{"targetPath":{"value":"$LineTaxes.TaxSummary.TaxSummaryDetail"},"expression":{"expression":true,"value":"sl.ensureArray($LineTaxes.TaxSummary.TaxSummaryDetail) || []"}}]},"mappingRoot":{"value":"$Order.OrderLines.OrderLine[*]"}}}},"error":{"error0":{"label":{"value":"error0"},"view_type":{"value":"document"}},"error_behavior":{"value":"fail"}},"output":{"output0":{"label":{"value":"output0"},"view_type":{"value":"document"}}}},"class_build_tag":"snapsmrc486"}},"path_id":"/GameStopPROD/IT OMS/BOPS","path_snode":"5b75856e4503bf0020a524b7","target_runtime":"standard","snap_history":{}}